<!DOCTYPE HTML>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Simple Example</title>
  <!-- Leaflet CSS and JS -->
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
  <script src="http://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>

  <!-- table CSS and JS -->
  <link rel="stylesheet" href="leaflet.table.css" />
  <script src="leaflet.table.js" type="text/javascript"></script>

  <!-- basic style -->
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    #map {
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body>
  
<!-- leaflet container -->
<div id="map">
</div>


<script type="text/javascript">
// start leaflet
var map = L.map('map').setView([0, 0], 1);
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);

// some demo markers
var marker1 = new L.marker([50.50,21.21],{ });
marker1.bindPopup('ID: 1');
// populate the data to show on the table
marker1.properties = {
  id: 1,
  foo: "bar",
  fuz: "baz"
};

var marker2 = new L.marker([50.51,22.22],{ });
marker2.bindPopup('ID: 2');
// populate the data to show on the table
marker2.properties = {
  id: 2,
  foo: "bar2",
  fuz: "baz2"
};

var marker3 = new L.marker([50.53,22.23],{ });
marker3.bindPopup('ID: 3');
// populate the data to show on the table
marker3.properties = {
  id: 3,
  foo: "bar3",
  fuz: "baz3"
};

// we create a group to hold the table data
var group = new L.layerGroup([marker1,marker2,marker3]);
// or  group.addLayer(marker1)  and etc
group.addTo(map);
for(var i=0;i<10;i++) {
  var markerx = new L.marker([50.53,22.23],{ });
  markerx.bindPopup('ID: x'+i);
  // populate the data to show on the table
  markerx.properties = {
    id: 'x'+i,
    foo: "barx"+i,
    fuz: "bazx"+i
  };
  group.addLayer(markerx);
}

var fields = ['id','foo','fuz'];
for(var i=0;i<50;i++) {
  fields.push("col"+i);
}

// and finally the table
var table = L.control.table({
  tables:[ // you can have multiple tables
    {
      name: "Group1", 
      layer: group, // layer of first table
      id: "id", // propertie that uniquely identifies each line
        fields: fields
    }
  ],
  collapsed: false // to start expanded
})

table.addTo(map);
</script>
</body>
</html>

